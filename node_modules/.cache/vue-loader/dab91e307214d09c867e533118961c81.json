{"remainingRequest":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\src\\views\\Home.vue","mtime":1640593607917},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638098759177},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1638098760924},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638098759177},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1638098761214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXREaXNjb3VudCB9IGZyb20gJ0AvYXBpL2Rpc2NvdW50Jw0KaW1wb3J0IHsgZ2V0VHlwZU90aGVyTGlzdCB9IGZyb20gJ0AvYXBpL3R5cGUnDQppbXBvcnQgeyBhZGQgfSBmcm9tICdAL2FwaS9ib29rJw0KaW1wb3J0IHsgdmFsaWRQaG9uZSB9IGZyb20gJ0AvdXRpbHMvdmFsaWRhdGUnDQppbXBvcnQgeyBzaG93Tm90aWZ5LCBzaG93TWVzc2FnZSB9IGZyb20gJ0AvYXBpL25vdGlmdHknDQppbXBvcnQgeyBVc2VybG9naW4sIHJlZ2lzdGVyIH0gZnJvbSAnQC9hcGkvdXNlcicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaW1nTGlzdDogWw0KICAgICAgICB7IGltZzogcmVxdWlyZSgnLi4vYXNzZXRzL2ltZy9WQ0cyMWdpYzEzOTIyOTEwLmpwZycpIH0sDQogICAgICAgIHsgaW1nOiByZXF1aXJlKCcuLi9hc3NldHMvaW1nL1ZDRzIxMTE3MzQ3MjU0OC5qcGcnKSB9DQogICAgICBdLA0KICAgICAgZ2VuZGVyOiBbeyB2YWx1ZTogMCwgbGFiZWw6ICflpbMnIH0sDQogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAn55S3JyB9XSwNCiAgICAgIGRpYWxvZ1RpdGxlOiAn6aKE5a6aJywNCiAgICAgIGRldGFpbEZvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRldGFpbFRpdGxlOiAnJywNCiAgICAgIGxvZ2luRm9ybVRpdGxlOiAn55m75b2VJywNCiAgICAgIGxvZ2luRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgcmVnaXN0ZXJGb3JtVGl0bGU6ICfms6jlhownLA0KICAgICAgcmVnaXN0ZXJGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBsb2dpbkZvcm06IHt9LA0KICAgICAgdXNlcjoge30sDQogICAgICBib29rOiB7fSwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIHR5cGU6IFt7IHR5cGVfaWQ6ICcnIH1dLA0KICAgICAgZGlzY291bnQ6IFt7IGRpc2NvdW50X2lkOiAnJywgZGlzY291bnRfdmFsdWU6IDAsIGRpc2NvdW50X3JlYXNvbjogJycgfV0sDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIHBpYzogW10sDQogICAgICBzaG93OiB7fSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIGJvb2tfYXJyaXJlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeWFpeS9j+aXtumXtCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLA0KICAgICAgICBib29rX2xlYXZlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeemu+W8gOaXtumXtCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLA0KICAgICAgICBib29rX3BlcnNvbjogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhpnlhaXkvY/kurrmlbAnLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgIGJvb2tfcGhvbmU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ55S16K+dJywgdHJpZ2dlcjogJ2JsdXInIH1dDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICdsb2FkaW5nJyh2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09IGZhbHNlKSB7DQogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLmRldGFpbEZvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy4kcmVmc1snYm9vayddLnJlc2V0RmllbGRzKCkNCiAgICAgICAgdGhpcy4kYWxlcnQoJ+aEn+iwouaCqOeahOmihOWumiznqI3lkI7kvJrmnInnn63kv6Hmj5DphpIs6K+35Y+K5pe25p+l5pS2JywgJ+aPkOekuicsIHsNCiAgICAgICAgICBjZW50ZXI6IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgZ2V0VHlwZU90aGVyTGlzdCgpLnRoZW4ocmVzID0+IHsNCiAgICAgIHRoaXMudHlwZSA9IHJlcy5kYXRhDQogICAgfSkNCiAgICBnZXREaXNjb3VudCgpLnRoZW4ocmVzID0+IHsNCiAgICAgIHRoaXMuZGlzY291bnQgPSByZXMuZGF0YQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZWdpc3RlclN1Ym1pdCgpIHsNCiAgICAgIHJlZ2lzdGVyKHRoaXMudXNlcikudGhlbihyZXMgPT4gew0KICAgICAgICBzaG93Tm90aWZ5KHJlcy5kYXRhKQ0KICAgICAgICB0aGlzLnJlZ2lzdGVyRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGxvZ2luU3VibWl0KCkgew0KICAgICAgVXNlcmxvZ2luKHRoaXMubG9naW5Gb3JtLnVzZXJfbmFtZSwgdGhpcy5sb2dpbkZvcm0udXNlcl9wd2QpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5sb2dpbkZvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICByZWdpc3RlcigpIHsNCiAgICAgIHRoaXMucmVnaXN0ZXJGb3JtVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGxvZ2luKCkgew0KICAgICAgdGhpcy5sb2dpbkZvcm1WaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQogICAgc2V0Qm9vayh2YWwpIHsNCiAgICAgIGxldCBvYmogPSB7fQ0KICAgICAgdGhpcy5ib29rLnR5cGVfaWQgPSB2YWwudHlwZV9pZA0KICAgICAgdGhpcy5ib29rLnR5cGVfcHJpY2UgPSB2YWwudHlwZV9wcmljZQ0KICAgICAgdGhpcy5ib29rLnR5cGVfbmFtZSA9IHZhbC50eXBlX25hbWUNCiAgICAgIGlmICh2YWwuZGlzY291bnRfaWQgPT09IG51bGwpIHsNCiAgICAgICAgdGhpcy5ib29rLmJvb2tfcHJpY2UgPSB2YWwudHlwZV9wcmljZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgb2JqID0gdGhpcy5kaXNjb3VudC5maW5kKChpdGVtKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGl0ZW0uZGlzY291bnRfaWQgPT09IHZhbC5kaXNjb3VudF9pZA0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLmJvb2suYm9va19wcmljZSA9IHBhcnNlRmxvYXQodmFsLnR5cGVfcHJpY2UpICogcGFyc2VGbG9hdChvYmouZGlzY291bnRfdmFsdWUpDQogICAgICAgIHRoaXMuYm9vay5kaXNfdmFsdWUgPSBvYmouZGlzY291bnRfdmFsdWUNCiAgICAgICAgdGhpcy5ib29rLmRpc19yZWFzb24gPSBvYmouZGlzY291bnRfcmVhc29uDQogICAgICB9DQogICAgfSwNCiAgICBjaGVjayh2YWwpIHsNCiAgICAgIHRoaXMuZGV0YWlsRm9ybVZpc2libGUgPSB0cnVlDQogICAgICB0aGlzLmZvcm1hdHRlclBpYyh2YWwudHlwZV9waWMpDQogICAgICB0aGlzLnNob3cudHlwZV9hcmVhID0gdmFsLnR5cGVfYXJlYQ0KICAgICAgdGhpcy5zaG93LnR5cGVfYmVkbnVtID0gdmFsLnR5cGVfYmVkbnVtDQogICAgICB0aGlzLmRldGFpbFRpdGxlID0gdmFsLnR5cGVfbmFtZQ0KICAgICAgdGhpcy5zZXRCb29rKHZhbCkNCiAgICB9LA0KICAgIGNob29zZSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGlmICh2YWxpZFBob25lKHRoaXMuYm9vay5ib29rX3Bob25lKSkgew0KICAgICAgICBhZGQodGhpcy5ib29rKS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgIH0sIDMwMDApDQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzWydib29rJ10ucmVzZXRGaWVsZHMoKQ0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcmVmc1snYm9vayddLnJlc2V0RmllbGRzKCkNCiAgICAgICAgc2hvd01lc3NhZ2UoJ+aCqOi+k+WFpeS/oeaBr+acieivr++8jOivt+mHjeaWsOi+k+WFpScpDQogICAgICB9DQogICAgfSwNCiAgICBvbkNhbmNlbCgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgIH0sDQogICAgZm9ybWF0dGVyUGljT25lKHJvdykgew0KICAgICAgaWYgKHJvdyAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgIGNvbnN0IHBpYyA9IHJvdy5zcGxpdCgnKycpDQogICAgICAgIHJldHVybiBwaWNbMF0NCiAgICAgIH0NCiAgICB9LA0KICAgIGZvcm1hdHRlclBpYyhyb3cpIHsNCiAgICAgIGlmIChyb3cgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICBjb25zdCBwaWMgPSByb3cuc3BsaXQoJysnKQ0KICAgICAgICB0aGlzLnBpYyA9IHBpYw0KICAgICAgfQ0KICAgIH0sDQogICAgY2FsVGltZSgpIHsNCiAgICAgIGNvbnN0IHN0aW1lID0gdGhpcy5ib29rLmJvb2tfYXJyaXJlDQogICAgICBjb25zdCBldGltZSA9IHRoaXMuYm9vay5ib29rX2xlYXZlDQogICAgICBjb25zdCB1c2VkVGltZSA9IERhdGUucGFyc2UoZXRpbWUpIC0gRGF0ZS5wYXJzZShzdGltZSkNCiAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHVzZWRUaW1lIC8gKDI0ICogMzYwMCAqIDEwMDApKQ0KICAgICAgdGhpcy5ib29rLmJvb2tfZGF5ID0gZGF5cw0KICAgIH0sDQogICAgYm9va3ByaWNlKHZhbCkgew0KICAgICAgbGV0IG9iaiA9IHt9DQogICAgICBpZiAodmFsLmRpc2NvdW50X2lkICE9PSBudWxsKSB7DQogICAgICAgIG9iaiA9IHRoaXMuZGlzY291bnQuZmluZCgoaXRlbSkgPT4gew0KICAgICAgICAgIHJldHVybiBpdGVtLmRpc2NvdW50X2lkID09PSB2YWwuZGlzY291bnRfaWQNCiAgICAgICAgfSkNCiAgICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KHZhbC50eXBlX3ByaWNlKSAqIHBhcnNlRmxvYXQob2JqLmRpc2NvdW50X3ZhbHVlKQ0KICAgICAgICByZXR1cm4gcHJpY2UNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"\">\r\n  <div>\r\n    <div class=\"the-header\">\r\n      <!-- 图标 -->\r\n      <div class=\"header-logo\" @click=\"goHome\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use :xlink:href=\"ERJI\" />\r\n        </svg>\r\n        <span>{{ musicName }}</span>\r\n      </div>\r\n      <ul ref=\"change\" class=\"navbar\">\r\n        <li v-for=\"item in navMsg\" :key=\"item.path\" :class=\"{active: item.name === activeName}\" @click=\"goPage(item.path, item.name)\">\r\n          {{ item.name }}\r\n        </li>\r\n        <li>\r\n          <div class=\"header-search\">\r\n            <input v-model=\"keywords\" type=\"text\" placeholder=\" 搜索音乐 \" @keyup.enter=\"goSearch()\">\r\n            <div class=\"search-btn\" @click=\"goSearch()\">\r\n              <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use :xlink:href=\"SOUSUO\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li v-for=\"item in loginMsg\" v-show=\"!loginIn\" :key=\"item.type\" :class=\"{active: item.name === activeName}\" @click=\"goPage(item.path, item.name)\">{{ item.name }}</li>\r\n      </ul>\r\n      <!-- 设置 -->\r\n      <div v-show=\"loginIn\" class=\"header-right\">\r\n        <div id=\"user\">\r\n          <img :src=\"attachImageUrl(avator)\" alt=\"\">\r\n        </div>\r\n        <ul class=\"menu\">\r\n          <li v-for=\"(item, index) in menuList\" :key=\"index\" @click=\"goMenuList(item.path)\">{{ item.name }}</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div style=\"display: inline-flex;vertical-align: top; margin-left: 38%\">\r\n      <el-button style=\"margin-left: 50%\" @click=\"login\">登录</el-button>\r\n      <el-button style=\"margin-left: 10%\" @click=\"register\">注册</el-button>\r\n    </div>\r\n    <el-carousel indicator-position=\"outside\" style=\"width: 80%;margin-left: 10%;\">\r\n      <el-carousel-item v-for=\"item in imgList\" :key=\"item.img\">\r\n        <img :src=\"item.img\" style=\"width: 100%;height:100%\">\r\n      </el-carousel-item>\r\n    </el-carousel>\r\n    <div>\r\n      <el-row type=\"flex\" style=\"flex-wrap: wrap;\">\r\n        <el-col v-for=\"(item) in type\" :key=\"item.type_id\" :span=\"3\" style=\"margin-right: -25px; margin-top: 10px\">\r\n          <el-tooltip effect=\"dark\" placement=\"right\" content=\"点击查看更多\">\r\n            <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\" :offset=\"1\" @click.native=\"check(item)\">\r\n              <el-image\r\n                style=\"object-fit: contain;\"\r\n                :src=\"formatterPicOne(item.type_pic)\"\r\n              />\r\n              <div style=\"padding: 14px;\">\r\n                <span>{{ item.type_name }}</span><br>\r\n                <span>{{ item.type_desc }}</span><br>\r\n                <span v-if=\"item.discount_id === null\">￥{{ item.type_price }}</span>\r\n                <span\r\n                  v-if=\"item.discount_id !== null\"\r\n                  style=\"text-decoration:line-through;\"\r\n                >￥{{ item.type_price }}</span>\r\n                <span v-if=\"item.discount_id !== null\" style=\"margin-left: 10px\">\r\n                  ￥{{ bookprice(item) }}\r\n                </span>\r\n              </div>\r\n            </el-card>\r\n          </el-tooltip>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-dialog :title=\"dialogTitle\" width=\"30%\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"book\" v-loading=\"loading\" :model=\"book\" :rules=\"rules\">\r\n        <el-form-item label=\"入住时间\" prop=\"book_arrire\">\r\n          <el-col :span=\"11\">\r\n            <el-date-picker\r\n              v-model=\"book.book_arrire\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择日期\"\r\n              style=\"width: 100%\"\r\n              default-time=\"12:00:00\"\r\n              format=\"yyyy-MM-dd HH:mm:ss\"\r\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            />\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"退房时间\" prop=\"book_leave\">\r\n          <el-col :span=\"11\">\r\n            <el-date-picker\r\n              v-model=\"book.book_leave\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择日期\"\r\n              style=\"width: 100%\"\r\n              default-time=\"12:00:00\"\r\n              format=\"yyyy-MM-dd HH:mm:ss\"\r\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              @change=\"calTime\"\r\n            />\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"入住人数\" prop=\"book_person\">\r\n          <el-input v-model=\"book.book_person\" style=\"margin-left: 10%\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"预定人电话\" prop=\"book_phone\">\r\n          <el-input v-model=\"book.book_phone\" style=\"margin-left: 7.5%\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"\">\r\n          <el-button type=\"primary\" @click=\"onSubmit\">确定</el-button>\r\n          <el-button type=\"primary\" @click=\"onCancel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog :title=\"detailTitle\" width=\"80%\" :visible.sync=\"detailFormVisible\">\r\n      <el-row>\r\n        <el-col :span=\"17\" style=\"margin-left: 0;\">\r\n          <el-carousel height=\"570px\" style=\"width: 95%\">\r\n            <el-carousel-item v-for=\"item in pic\" :key=\"item\">\r\n              <img :src=\"item\" style=\"width: 100%;height:100%\">\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </el-col>\r\n        <el-col :span=\"7\" style=\"margin-left: 0;\">\r\n          <div class=\"content\">\r\n            <div>\r\n              <h2>基础信息</h2>\r\n              <span>\r\n                <svg-icon icon-class=\"area\" style=\"width: 25px; height: 25px\" />\r\n                <span class=\"details\">{{ show.type_area }}</span>\r\n              </span>\r\n              <br>\r\n              <span>\r\n                <svg-icon icon-class=\"bed\" style=\"width: 25px; height: 25px; \" />\r\n                <span class=\"details\">{{ show.type_bednum }}</span>\r\n                <br>\r\n                <span class=\"details\" style=\"margin-left: 8%\">该房型不可加床</span>\r\n              </span>\r\n            </div>\r\n            <br>\r\n            <div>\r\n              <h2>全部信息</h2>\r\n              <h3>洗浴用品</h3>\r\n              <div class=\"aside-content\">\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">牙刷</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">牙膏</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">沐浴露</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">洗发水</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">护发素</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">香皂</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">浴帽</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">梳子</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">剃须刀</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>便利设施</h3>\r\n              <div class=\"aside-content\">\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">房间内高速上网</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">客房WIFI（免费）</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">遮光窗帘</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">手动窗帘</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">空调（免费）</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">空调（仅制冷）</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">书桌</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">餐桌</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">床具:毯子或被子</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">针线包</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">衣架</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">地毯</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">单一规格电源插座</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>媒体科技</h3>\r\n              <div class=\"aside-content\">\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">电话</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">电视机</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">有线频道</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">智能门锁</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>浴室</h3>\r\n              <div class=\"aside-content\">\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">独立淋浴间</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">独立卫生间</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">吹风机</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">24小时热水</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">拖鞋</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3>食品饮品</h3>\r\n              <div class=\"aside-content\">\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">瓶装水（免费）</span>\r\n                </div>\r\n                <div class=\"icon-with-text\">\r\n                  <i class=\"el-icon-circle-check\" />\r\n                  <span class=\"icon-span\">电热水壶</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <el-button type=\"primary\" style=\"margin-top: 25px\" @click=\"choose\">选择房间</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n    <el-dialog :title=\"loginFormTitle\" width=\"40%\" :visible.sync=\"loginFormVisible\">\r\n      <el-form :model=\"loginForm\">\r\n        <el-form-item label=\"用户名\" prop=\"user_name\">\r\n          <el-input v-model=\"loginForm.user_name\" style=\"margin-left: 10%\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"user_pwd\">\r\n          <el-input v-model=\"loginForm.user_pwd\" style=\"margin-left: 10%\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"loginSubmit\">登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog :title=\"registerFormTitle\" width=\"40%\" :visible.sync=\"registerFormVisible\">\r\n      <el-form :model=\"user\">\r\n        <el-form-item label=\"用户名\" prop=\"user_name\">\r\n          <el-input v-model=\"user.user_name\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"user_pwd\">\r\n          <el-input v-model=\"user.user_pwd\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-select v-model=\"user.user_gender\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in gender\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"registerSubmit\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getDiscount } from '@/api/discount'\r\nimport { getTypeOtherList } from '@/api/type'\r\nimport { add } from '@/api/book'\r\nimport { validPhone } from '@/utils/validate'\r\nimport { showNotify, showMessage } from '@/api/notifty'\r\nimport { Userlogin, register } from '@/api/user'\r\nexport default {\r\n  data() {\r\n    return {\r\n      imgList: [\r\n        { img: require('../assets/img/VCG21gic13922910.jpg') },\r\n        { img: require('../assets/img/VCG211173472548.jpg') }\r\n      ],\r\n      gender: [{ value: 0, label: '女' },\r\n        { value: 1, label: '男' }],\r\n      dialogTitle: '预定',\r\n      detailFormVisible: false,\r\n      detailTitle: '',\r\n      loginFormTitle: '登录',\r\n      loginFormVisible: false,\r\n      registerFormTitle: '注册',\r\n      registerFormVisible: false,\r\n      loginForm: {},\r\n      user: {},\r\n      book: {},\r\n      dialogFormVisible: false,\r\n      type: [{ type_id: '' }],\r\n      discount: [{ discount_id: '', discount_value: 0, discount_reason: '' }],\r\n      loading: false,\r\n      pic: [],\r\n      show: {},\r\n      rules: {\r\n        book_arrire: [{ required: true, message: '请选择入住时间', trigger: 'change' }],\r\n        book_leave: [{ required: true, message: '请选择离开时间', trigger: 'change' }],\r\n        book_person: [{ required: true, message: '请填写入住人数', trigger: 'blur' }],\r\n        book_phone: [{ required: true, message: '请填写电话', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'loading'(val) {\r\n      if (val === false) {\r\n        this.dialogFormVisible = false\r\n        this.detailFormVisible = false\r\n        this.$refs['book'].resetFields()\r\n        this.$alert('感谢您的预定,稍后会有短信提醒,请及时查收', '提示', {\r\n          center: true\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    getTypeOtherList().then(res => {\r\n      this.type = res.data\r\n    })\r\n    getDiscount().then(res => {\r\n      this.discount = res.data\r\n    })\r\n  },\r\n  methods: {\r\n    registerSubmit() {\r\n      register(this.user).then(res => {\r\n        showNotify(res.data)\r\n        this.registerFormVisible = false\r\n      })\r\n    },\r\n    loginSubmit() {\r\n      Userlogin(this.loginForm.user_name, this.loginForm.user_pwd).then(res => {\r\n        this.loginFormVisible = false\r\n      })\r\n    },\r\n    register() {\r\n      this.registerFormVisible = true\r\n    },\r\n    login() {\r\n      this.loginFormVisible = true\r\n    },\r\n    setBook(val) {\r\n      let obj = {}\r\n      this.book.type_id = val.type_id\r\n      this.book.type_price = val.type_price\r\n      this.book.type_name = val.type_name\r\n      if (val.discount_id === null) {\r\n        this.book.book_price = val.type_price\r\n      } else {\r\n        obj = this.discount.find((item) => {\r\n          return item.discount_id === val.discount_id\r\n        })\r\n        this.book.book_price = parseFloat(val.type_price) * parseFloat(obj.discount_value)\r\n        this.book.dis_value = obj.discount_value\r\n        this.book.dis_reason = obj.discount_reason\r\n      }\r\n    },\r\n    check(val) {\r\n      this.detailFormVisible = true\r\n      this.formatterPic(val.type_pic)\r\n      this.show.type_area = val.type_area\r\n      this.show.type_bednum = val.type_bednum\r\n      this.detailTitle = val.type_name\r\n      this.setBook(val)\r\n    },\r\n    choose() {\r\n      this.dialogFormVisible = true\r\n    },\r\n    onSubmit() {\r\n      if (validPhone(this.book.book_phone)) {\r\n        add(this.book).then(() => {\r\n          this.loading = true\r\n          setTimeout(() => {\r\n            this.loading = false\r\n          }, 3000)\r\n        }).catch(() => {\r\n          this.$refs['book'].resetFields()\r\n        })\r\n      } else {\r\n        this.$refs['book'].resetFields()\r\n        showMessage('您输入信息有误，请重新输入')\r\n      }\r\n    },\r\n    onCancel() {\r\n      this.dialogFormVisible = false\r\n    },\r\n    formatterPicOne(row) {\r\n      if (row !== undefined) {\r\n        const pic = row.split('+')\r\n        return pic[0]\r\n      }\r\n    },\r\n    formatterPic(row) {\r\n      if (row !== undefined) {\r\n        const pic = row.split('+')\r\n        this.pic = pic\r\n      }\r\n    },\r\n    calTime() {\r\n      const stime = this.book.book_arrire\r\n      const etime = this.book.book_leave\r\n      const usedTime = Date.parse(etime) - Date.parse(stime)\r\n      const days = Math.floor(usedTime / (24 * 3600 * 1000))\r\n      this.book.book_day = days\r\n    },\r\n    bookprice(val) {\r\n      let obj = {}\r\n      if (val.discount_id !== null) {\r\n        obj = this.discount.find((item) => {\r\n          return item.discount_id === val.discount_id\r\n        })\r\n        const price = parseFloat(val.type_price) * parseFloat(obj.discount_value)\r\n        return price\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n.el-carousel{\r\n    margin: 5px;\r\n}\r\n.el-carousel__item:nth-child(2n) {\r\n    background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n+1) {\r\n    background-color: #d3dce6;\r\n}\r\n.el-col {\r\n  margin-left: 10%;\r\n}\r\n.button {\r\n  padding: 0;\r\n  float: right;\r\n}\r\n.el-input {\r\n  width: 46%\r\n}\r\n.details {\r\n  margin-left: 10px;\r\n  font-size:17px\r\n}\r\n.icon-with-text {\r\n  width: 46%;\r\n  display: inline-flex;\r\n  vertical-align: top;\r\n  margin-top: 5%;\r\n  font-size:15px\r\n}\r\n.icon-span {\r\n  margin-left: 7px;\r\n}\r\n.content {\r\n  height: 510px;\r\n  overflow :auto\r\n}\r\nh3 {\r\n  margin-bottom: 0;\r\n  font-size: 15px;\r\n}\r\nh2 {\r\n  font-size: 24px;\r\n}\r\n.el-dialog__header {\r\n  margin-left: 5px;\r\n  padding: 20px 20px 0px;\r\n}\r\n.el-dialog__title {\r\n    line-height: 24px;\r\n    font-size: 24px;\r\n    color: #303133;\r\n}\r\n.el-dialog__body{\r\n  padding: 20px 20px\r\n}\r\n.el-carousel__container {\r\n  position: relative;\r\n  height: 500px;\r\n}\r\n.el-card.is-hover-shadow {\r\n    width: 320px;\r\n}\r\n</style>\r\n"]}]}