{"remainingRequest":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\src\\views\\front\\addReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\src\\views\\front\\addReservation.vue","mtime":1638612726269},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\babel.config.js","mtime":1638098696970},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638098759177},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1638098760924},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638098759177},{"path":"C:\\Users\\Silhouette76\\Desktop\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1638098761214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRSb29tVHlwZSwgZ2V0Um9vbUxpc3RXaXRoV3JhcHBlciwgZ2V0Um9vbUluZm9MaXN0LCBnZXRQcmljZSB9IGZyb20gJ0AvYXBpL3Jvb20nOwppbXBvcnQgeyBnZXREaXNjb3VudCwgYWRkT25lIH0gZnJvbSAnQC9hcGkvcmVzZXJ2YXRpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZsb29ydHlwZXM6IFt7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbGFiZWw6ICfmoIflh4bmpbzlsYInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ+i0teWuvualvOWxgicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAzLAogICAgICAgIGxhYmVsOiAn5qGC5Yag5qW85bGCJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDQsCiAgICAgICAgbGFiZWw6ICfmgLvnu5/lpZfmiL8nCiAgICAgIH1dLAogICAgICByb29tdHlwZXM6IFtdLAogICAgICByZXNlcnZhdGlvbjogewogICAgICAgIG9yZGVybmFtZTogJycsCiAgICAgICAgb3JkZXJwaG9uZTogJycsCiAgICAgICAgYXJyaXJlZGF0ZTogJycsCiAgICAgICAgbGVhdmVkYXRlOiAnJywKICAgICAgICBwcmljZTogJycsCiAgICAgICAgb3JkZXJzdGF0ZTogJ+acquWKnueQhuWFpeS9jycsCiAgICAgICAgZGlzY291bnRyZWFzb246ICcnLAogICAgICAgIGRpc2NvdW50OiAnJywKICAgICAgICBjaGVja3ByaWNlOiAnJywKICAgICAgICBpc2NoZWNrOiAn5ZCmJywKICAgICAgICByZW1hcms6ICcnLAogICAgICAgIG9wZXJhdG9yaWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuaWQsCiAgICAgICAgc3RheWRheXM6ICcnLAogICAgICAgIHR5cGVuYW1lOiAnJwogICAgICB9LAogICAgICB0YWJsZURhdGE6IFt7fV0sCiAgICAgIHJvb213cmFwcGVyczogewogICAgICAgIGZsb29ydHlwZTogJycsCiAgICAgICAgdHlwZW5hbWU6ICcnLAogICAgICAgIHN0YXR1czogJ+epuumXsicKICAgICAgfSwKICAgICAgdHlwZW5hbWVzOiBbXSwKICAgICAgZGlhbG9nVGl0bGU6ICflrqLmiL/kv6Hmga8nLAogICAgICBpY29uRm9ybVZpc2libGU6IGZhbHNlLAogICAgICByb3dJbmRleDogbnVsbCwKICAgICAgZGlzY291bnQ6IFt7fV0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBnZXREaXNjb3VudCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5kaXNjb3VudCA9IHJlcy5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUeXBlOiBmdW5jdGlvbiBnZXRUeXBlKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldFJvb21UeXBlKHZhbCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIudHlwZW5hbWVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzZXJ2YXRpb24pOwogICAgICBhZGRPbmUodGhpcy5yZXNlcnZhdGlvbikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6IHJlcy5kYXRhLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMy4kcmVmc1sncmVzZXJ2YXRpb24nXS5yZXNldEZpZWxkcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiByZXMuZGF0YSwKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuaWNvbkZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgZ2V0Um9vbUluZm9MaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQudGFibGVEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnJlc2VydmF0aW9uLnJvb21pZCA9IHJvdy5yb29taWQ7CiAgICAgIHRoaXMucmVzZXJ2YXRpb24udHlwZW5hbWUgPSByb3cudHlwZW5hbWU7CiAgICAgIHRoaXMucmVzZXJ2YXRpb24udHlwZWlkID0gcm93LnR5cGVpZDsKICAgICAgdGhpcy5pY29uRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgZ2V0UHJpY2Uocm93LmZsb29ydHlwZSwgcm93LnR5cGVuYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUucmVzZXJ2YXRpb24ucHJpY2UgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBnZXRSb29tTGlzdFdpdGhXcmFwcGVyKHRoaXMucm9vbXdyYXBwZXJzLmZsb29ydHlwZSwgdGhpcy5yb29td3JhcHBlcnMudHlwZW5hbWUsIHRoaXMucm9vbXdyYXBwZXJzLnN0YXR1cykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM2LnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBjYWw6IGZ1bmN0aW9uIGNhbCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICBvYmogPSB0aGlzLmRpc2NvdW50LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWw7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5yZXNlcnZhdGlvbi5kaXNjb3VudCA9IHZhbDsKICAgICAgICB0aGlzLnJlc2VydmF0aW9uLmRpc2NvdW50cmVhc29uID0gb2JqLmRpc2NvdW50cmVhc29uOwogICAgICAgIHRoaXMucmVzZXJ2YXRpb24uY2hlY2twcmljZSA9IHBhcnNlRmxvYXQodmFsKSAqIHBhcnNlSW50KHRoaXMucmVzZXJ2YXRpb24ucHJpY2UsIDEwKTsKICAgICAgfQogICAgfSwKICAgIGNhbFRpbWU6IGZ1bmN0aW9uIGNhbFRpbWUoKSB7CiAgICAgIHZhciBzdGltZSA9IHRoaXMucmVzZXJ2YXRpb24uYXJyaXJlZGF0ZTsKICAgICAgdmFyIGV0aW1lID0gdGhpcy5yZXNlcnZhdGlvbi5sZWF2ZWRhdGU7CiAgICAgIHZhciB1c2VkVGltZSA9IERhdGUucGFyc2UoZXRpbWUpIC0gRGF0ZS5wYXJzZShzdGltZSk7CiAgICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcih1c2VkVGltZSAvICgyNCAqIDM2MDAgKiAxMDAwKSk7CiAgICAgIHRoaXMucmVzZXJ2YXRpb24uc3RheWRheXMgPSBkYXlzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["addReservation.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"\">\r\n  <div>\r\n    <el-form\r\n      ref=\"reservation\"\r\n      :model=\"reservation\"\r\n      label-width=\"80px\"\r\n      :inline=\"true\"\r\n    >\r\n      <el-form-item label=\"预定人\" prop=\"ordername\">\r\n        <el-input v-model=\"reservation.ordername\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"联系电话\" prop=\"orderphone\">\r\n        <el-input v-model=\"reservation.orderphone\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"身份证号\" prop=\"orderidcard\">\r\n        <el-input v-model=\"reservation.orderidcard\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"入住时间\" prop=\"arriredate\">\r\n        <el-col :span=\"11\">\r\n          <el-date-picker\r\n            v-model=\"reservation.arriredate\"\r\n            type=\"datetime\"\r\n            placeholder=\"选择日期\"\r\n            style=\"width: 190%\"\r\n            default-time=\"12:00:00\"\r\n            format=\"yyyy-MM-dd HH:mm:ss\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"退房时间\" prop=\"leavedate\">\r\n        <el-col :span=\"11\">\r\n          <el-date-picker\r\n            v-model=\"reservation.leavedate\"\r\n            type=\"datetime\"\r\n            placeholder=\"选择日期\"\r\n            style=\"width: 190%\"\r\n            default-time=\"12:00:00\"\r\n            format=\"yyyy-MM-dd HH:mm:ss\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            @change=\"calTime\"\r\n          />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"入住天数\" prop=\"staydays\">\r\n        <el-input v-model=\"reservation.staydays\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"入住人数\" prop=\"checknum\">\r\n        <el-input v-model=\"reservation.checknum\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"预定房号\" prop=\"roomid\">\r\n        <el-input v-model=\"reservation.roomid\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"show\">选 择</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"客房类型\" prop=\"typename\">\r\n        <el-input v-model=\"reservation.typename\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"客房价格\" prop=\"price\">\r\n        <el-input v-model=\"reservation.price\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"折扣类型\" prop=\"discount\">\r\n        <el-select\r\n          v-model=\"reservation.discount\"\r\n          placeholder=\"请选择\"\r\n          style=\"width: 93%\"\r\n          @change=\"cal\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in discount\"\r\n            :key=\"item.value\"\r\n            :label=\"item.discountreason\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"入住价格\" prop=\"checkprice\">\r\n        <el-input v-model=\"reservation.checkprice\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"备注\" prop=\"remark\">\r\n        <el-input v-model=\"reservation.remark\" />\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-button type=\"primary\" style=\"margin-left:50px\" @click=\"onSubmit\">立即创建</el-button>\r\n    <el-dialog :title=\"dialogTitle\" width=\"50%\" :visible.sync=\"iconFormVisible\">\r\n      <el-form :inline=\"true\" :model=\"roomwrappers\">\r\n        <el-form-item label=\"楼层类型\">\r\n          <el-select v-model=\"roomwrappers.floortype\" placeholder=\"请选择\" @change=\"getType(roomwrappers.floortype)\">\r\n            <el-option\r\n              v-for=\"item in floortypes\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.label\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"客房类型\">\r\n          <el-select v-model=\"roomwrappers.typename\" placeholder=\"请选择\" @change=\"getList()\">\r\n            <el-option\r\n              v-for=\"item in typenames\"\r\n              :key=\"item.typeid\"\r\n              :label=\"item.typename\"\r\n              :value=\"item.typename\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-table\r\n        :data=\"tableData\"\r\n        border\r\n      >\r\n        <el-table-column\r\n          prop=\"typeid\"\r\n          label=\"房型编号\"\r\n        />\r\n        <el-table-column\r\n          prop=\"roomid\"\r\n          label=\"客房编号\"\r\n        />\r\n        <el-table-column\r\n          prop=\"typename\"\r\n          label=\"客房类型\"\r\n        />\r\n        <el-table-column\r\n          prop=\"floortype\"\r\n          label=\"楼层类型\"\r\n        />\r\n        <el-table-column\r\n          prop=\"status\"\r\n          label=\"状态\"\r\n        />\r\n        <el-table-column>\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >选择</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getRoomType, getRoomListWithWrapper, getRoomInfoList, getPrice } from '@/api/room'\r\nimport { getDiscount, addOne } from '@/api/reservation'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      floortypes: [\r\n        { value: 1, label: '标准楼层' },\r\n        { value: 2, label: '贵宾楼层' },\r\n        { value: 3, label: '桂冠楼层' },\r\n        { value: 4, label: '总统套房' }\r\n      ],\r\n      roomtypes: [],\r\n      reservation: {\r\n        ordername: '',\r\n        orderphone: '',\r\n        arriredate: '',\r\n        leavedate: '',\r\n        price: '',\r\n        orderstate: '未办理入住',\r\n        discountreason: '',\r\n        discount: '',\r\n        checkprice: '',\r\n        ischeck: '否',\r\n        remark: '',\r\n        operatorid: this.$store.getters.id,\r\n        staydays: '',\r\n        typename: ''\r\n      },\r\n      tableData: [{}],\r\n      roomwrappers: {\r\n        floortype: '',\r\n        typename: '',\r\n        status: '空闲'\r\n      },\r\n      typenames: [\r\n      ],\r\n      dialogTitle: '客房信息',\r\n      iconFormVisible: false,\r\n      rowIndex: null,\r\n      discount: [{}]\r\n    }\r\n  },\r\n  mounted() {\r\n    getDiscount().then(res => {\r\n      this.discount = res.data\r\n    })\r\n  },\r\n  methods: {\r\n    getType(val) {\r\n      getRoomType(val).then(response => {\r\n        this.typenames = response.data\r\n      })\r\n    },\r\n    onSubmit() {\r\n      console.log(this.reservation)\r\n      addOne(this.reservation).then(res => {\r\n        if (res.code === 200) {\r\n          this.$notify({\r\n            title: res.data,\r\n            type: 'success'\r\n          })\r\n          this.$refs['reservation'].resetFields()\r\n        } else {\r\n          this.$notify({\r\n            title: res.data,\r\n            type: 'error'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    show() {\r\n      this.iconFormVisible = true\r\n      getRoomInfoList().then(response => {\r\n        this.tableData = response.data.data\r\n      })\r\n    },\r\n    handleEdit(index, row) {\r\n      this.reservation.roomid = row.roomid\r\n      this.reservation.typename = row.typename\r\n      this.reservation.typeid = row.typeid\r\n      this.iconFormVisible = false\r\n      getPrice(row.floortype, row.typename).then(res => {\r\n        this.reservation.price = res.data\r\n      })\r\n    },\r\n    getList() {\r\n      getRoomListWithWrapper(this.roomwrappers.floortype,\r\n        this.roomwrappers.typename, this.roomwrappers.status).then(\r\n        res => {\r\n          this.tableData = res.data\r\n        }\r\n      )\r\n    },\r\n    cal(val) {\r\n      if (val) {\r\n        let obj = {}\r\n        obj = this.discount.find((item) => {\r\n          return item.value === val\r\n        })\r\n        this.reservation.discount = val\r\n        this.reservation.discountreason = obj.discountreason\r\n        this.reservation.checkprice = parseFloat(val) * parseInt(this.reservation.price, 10)\r\n      }\r\n    },\r\n    calTime() {\r\n      const stime = this.reservation.arriredate\r\n      const etime = this.reservation.leavedate\r\n      const usedTime = Date.parse(etime) - Date.parse(stime)\r\n      const days = Math.floor(usedTime / (24 * 3600 * 1000))\r\n      this.reservation.staydays = days\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"css\">\r\n.el-form{\r\n  width: 40%;\r\n  margin-left: 30px;\r\n  margin-top: 30px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/front"}]}